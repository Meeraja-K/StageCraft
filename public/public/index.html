<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>StageCraft</title>
    <link rel="icon" type="image/png" href="./public/images/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: Arial, sans-serif;
      }

      /* Logo Bar */
      .logo-bar {
        position: fixed;
        top: 0;
        width: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 1000;
        box-sizing: border-box;
      }

      .logo-bar img {
        height: 50px;
      }

      .logo-bar h1 {
        margin: 0;
        font-size: 24px;
      }

      .quick-access {
            display: flex;
            gap: 15px;
        }

      .quick-access a {
        color: white;
        text-decoration: none;
        margin: 0 15px;
        transition: background-color 0.3s;
      }

      .quick-access a:hover {
            background-color: #d03a3e;
        }

      .slide {
        display: block;
        position: absolute;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        text-align: left;
      }

      .homescreen {
        position: absolute;
        top: 20%;
        left: 5%;
        right: 50%;
        color: white;
        max-width: 50%;
        text-align: top;
      }

      .btn {
        margin: 10px;
        padding: 10px 20px;
        font-size: 18px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .btn:hover {
        background-color: #0056b3;
      }

      /* 3D Canvas */
      #background {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
    </style>

    <script type="importmap">
      {
        "imports": {
          "three": "./node_modules/three/build/three.module.js"
        }
      }
    </script>
  </head>

  <body>
    <!-- Logo Bar -->
    <div class="logo-bar">
      <img src="./public/images/logo.png" alt="StageCraft Logo" />
      <h1>StageCraft</h1>
      <div class="quick-access">
        <a href="/">Home</a>
        <a>Auditorium</a>
      </div>
    </div>

    <!-- Homepage Slide -->
      <div id="homepage" class="slide" style="background-image: url('./public/images/homescreen.jpg');">
        <div class="homescreen">
            <h2>Welcome to StageCraft: Elevate Your Public Speaking Skills</h2>
            <p>At StageCraft, enhance your public speaking skills in an immersive VR environment. Whether you're a speaker looking to practice or an audience member offering real-time feedback, our platform creates a realistic stage experience. Speakers receive instant ratings and feedback from the audience, helping them refine their performance with every session. Join StageCraft today and master the art of captivating your audience!</p>
          <button class="btn" id="joinSpeaker1">Join as Speaker</button>
            <button class="btn" id="joinSpectator1">Join as Spectator</button>
        </div>
      </div>
    </div>

    <!-- Canvas for 3D scene -->
    <canvas id="background"></canvas>

    <script type="module" src="./public/src/main.js"></script>

    <script type="module">
      import { init3DScene } from './public/src/main.js';

      // Event listeners for buttons to switch to 3D scene
      const buttons = document.querySelectorAll(".btn");
      const homepage = document.getElementById('homepage');
      const canvas = document.getElementById('background');
      const auditoriumLink = document.querySelector('.quick-access a:nth-child(2)');

      buttons.forEach(button => {
        button.addEventListener('click', () => {
          homepage.style.display = 'none';  // Hide the homepage
          canvas.style.display = 'block';   // Show the 3D scene
          init3DScene();                    // Initialize the 3D scene
        });
      });

      // Event listener for the "Auditorium" link
  auditoriumLink.addEventListener('click', (event) => {
    event.preventDefault(); // Prevent default link behavior
    homepage.style.display = 'none';  // Hide the homepage
    canvas.style.display = 'block';   // Show the 3D scene
    init3DScene();                    // Initialize the 3D scene
  });
    </script>
  </body>
</html>
